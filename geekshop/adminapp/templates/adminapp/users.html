{% extends 'adminapp/base.html' %}
{% load static %}

{% block content %}
    <div class="users_list">
        <button class="new_user">
            <a href="{% url 'adminapp:user_create' %}">новый пользователь</a>
        </button>
        {% for object in objects %}
            <div class="user_record">
                <img src="/media/{{ object.avatar|default:'user_avatars/default.jpg' }}"/>
                <div class="user_role">
                    {% if object.is_superuser %}
                        администратор
                    {% else %}
                        пользователь
                    {% endif %}
                </div>
                <button>
                    <a href="{% url 'adminapp:user_update' %}">редактировать</a>
                    <a href="{% url 'adminapp:user_delete' %}">удалить</a>
                </button>
            </div>
            <div class="user_name">
                <p>
                    <strong>{{ object.username }}</strong>
                </p>
                <p>
                    {% if object.first_name %}
                        {{ object.first_name|title }}
                        {% if object.last_name %}
                            {{ object.last_name }}
                        {% endif %}
                    {% endif %}
                </p>
            </div>
            <div class="user_age">age:<br>{{ object.age }}</div>
            <div class="user_email">email:<br>{{ object.email }}</div>
            <div class="user_lastlogin">logged:<br>{{ object.last_login }}</div>
        {% endfor %}
    </div>
{% endblock %}